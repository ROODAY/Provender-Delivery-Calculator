<!doctype html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang=""> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8" lang=""> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9" lang=""> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang=""> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Provender Distribution Calculator</title>
        <meta name="description" content="Calculate everything you'll need to know about your next delivery with Provender!">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="apple-touch-icon" href="apple-touch-icon.png">

        <script src="bower_components/webcomponentsjs/webcomponents-lite.min.js"></script>
        <link rel="import" href="bower_components/form-input/form-input.html">
        <link rel="import" href="bower_components/google-map/google-map.html">
        <link rel="import" href="bower_components/paper-dialog/paper-dialog.html">
        <link rel="import" href="bower_components/paper-button/paper-button.html">

        <link rel="stylesheet" href="css/normalize.min.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
        <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:300,400,500,700" type="text/css">
        <link rel="stylesheet" href="https://storage.googleapis.com/code.getmdl.io/1.0.4/material.purple-deep_purple.min.css" /> 
        <link rel="stylesheet" href="css/main.css">

        <!--[if lt IE 9]>
            <script src="js/vendor/html5-3.6-respond-1.4.2.min.js"></script>
        <![endif]-->
    </head>
    <body>
        <!--[if lt IE 8]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->
        <div id="loading">
          <div id="loading-bar" class="mdl-progress mdl-js-progress mdl-progress__indeterminate"></div>
        </div>
        <div class="demo-layout mdl-layout mdl-layout--fixed-header mdl-js-layout mdl-color--grey-100">
          <div class="demo-ribbon"></div>
          <main class="demo-main mdl-layout__content">
            <div class="demo-container mdl-grid">
              <div class="mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone"></div>
              <div class="demo-content mdl-color--white mdl-shadow--4dp content mdl-color-text--grey-800 mdl-cell mdl-cell--8-col">
                <h3>Provender Distribution Calculator</h3>
                  <h4><small>This is a distribution calculator. <br>The more info you share, the more interesting the insights.</small></h4>
                  <div class="row">
                      <paper-dialog id="calculations">
                        <h2>Results</h2>
                        <p></p>
                        <div class="buttons">
                          <paper-button dialog-confirm autofocus>OK</paper-button>
                        </div>
                      </paper-dialog>
                    <div class="mdl-cell mdl-cell--6-col">
                      <form action="#" id="driving-stats" onsubmit="return false;">
                        <strong>Where are you coming from and where are you headed?</strong><br>
                        <div class="inputs-container">
                          <form-input info='{"label": "Home"}'></form-input>
                          <form-input info='{"label": "Destination"}'></form-input>
                        </div>
                        <button id="add-new-input" onclick="appendInput()" class="mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect mdl-button--colored">
                          <i class="material-icons">add</i>
                        </button>
                        <div class="mdl-tooltip" for="add-new-input">
                          Add another destination
                        </div>
                        <button id="calc" onclick="calcTime()" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent">
                          Calculate
                        </button>
                        <script>
                            var count = 2;
                            appendInput = function() {
                              $(".inputs-container").append("<form-input info='{\"label\": \"Destination-" + count + "\"}'></form-input>");
                              count += 1;
                              $("#google-map").css("height", $("#driving-stats").height() + "px");
                            };
                            calcTime = function(){
                              var obj = $(".inputs-container").find("input");
                              var locations = [];
                              for (var i = 1; i < obj.length; i++) {
                                input = obj[i];
                                point = {
                                  location: $(input).val(),
                                  stopover: false
                                };
                                locations.push(point);
                              }
                              var req = {
                                origin: $(obj[0]).val(),
                                destination: $(obj[0]).val(),
                                waypoints: locations,
                                provideRouteAlternatives: false,
                                travelMode: google.maps.TravelMode.DRIVING,
                                unitSystem: google.maps.UnitSystem.IMPERIAL
                              };
                              metrics = [];
                              directionsService.route(req, function(res){
                                metrics.push(res.routes[0].legs[0].distance);
                                metrics.push(res.routes[0].legs[0].duration);
                                console.log(metrics);
                                $("#calculations>p").html("The trip would cover a distance of <strong>" + metrics[0].text + "les</strong> and would take about <strong>" + metrics[1].text + "</<strong>.");
                                document.getElementById("calculations").open();
                              });
                            };
                        </script>
                      </form>
                    </div>
                    <div class="mdl-cell mdl-cell--6-col" id="google-map-wrapper">
                      <google-map latitude="37.77493" longitude="-122.41942" id="google-map"></google-map>
                    </div>
                  </div>
                  <div class="row">
                    <div class="mdl-cell mdl-cell--6-col">
                      <form action="#" id="time-not-farming">
                        <strong>You're doing more than driving. Break down today's todo list.</strong><br>
                        <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                          <input class="mdl-textfield__input" type="text" id="sample1" />
                          <label class="mdl-textfield__label" for="sample1">Total Drive Time</label>
                        </div>
                        <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                          <input class="mdl-textfield__input" type="text" id="sample1" />
                          <label class="mdl-textfield__label" for="sample1">Time at Market</label>
                        </div>
                        <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                          <input class="mdl-textfield__input" type="text" id="sample1" />
                          <label class="mdl-textfield__label" for="sample1">Time Unloading</label>
                        </div>
                        <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                          <input class="mdl-textfield__input" type="text" id="sample1" />
                          <label class="mdl-textfield__label" for="sample1">Time doing another Task</label>
                        </div>
                      </form>
                    </div>
                    <div class="mdl-cell mdl-cell--6-col"></div>
                  </div>
                  <div class="row">
                    <div class="mdl-cell mdl-cell--6-col">
                      <form action="#" id="labor-costs">
                        <strong>Who's putting in their time and what're they getting paid?</strong><br>
                        <div class="mdl-grid">
                          <div class="mdl-cell mdl-cell--6-col">
                            <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                              <input class="mdl-textfield__input" type="text" id="sample1" />
                              <label class="mdl-textfield__label" for="sample1">Driver</label>
                            </div>
                          </div>
                          <div class="mdl-cell mdl-cell--6-col">
                            <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                              <input class="mdl-textfield__input" type="text" id="sample1" />
                              <label class="mdl-textfield__label" for="sample1">Hourly Wage</label>
                            </div>
                          </div>
                        </div>
                        <div class="mdl-grid">
                          <div class="mdl-cell mdl-cell--6-col">
                            <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                              <input class="mdl-textfield__input" type="text" id="sample1" />
                              <label class="mdl-textfield__label" for="sample1">Packer</label>
                            </div>
                          </div>
                          <div class="mdl-cell mdl-cell--6-col">
                            <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                              <input class="mdl-textfield__input" type="text" id="sample1" />
                              <label class="mdl-textfield__label" for="sample1">Hourly Wage</label>
                            </div>
                          </div>
                        </div>
                        <div class="mdl-grid">
                          <div class="mdl-cell mdl-cell--6-col">
                            <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                              <input class="mdl-textfield__input" type="text" id="sample1" />
                              <label class="mdl-textfield__label" for="sample1">Other Person</label>
                            </div>
                          </div>
                          <div class="mdl-cell mdl-cell--6-col">
                            <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                              <input class="mdl-textfield__input" type="text" id="sample1" />
                              <label class="mdl-textfield__label" for="sample1">Hourly Wage</label>
                            </div>
                          </div>
                        </div>
                      </form>
                    </div>
                    <div class="mdl-cell mdl-cell--6-col"></div>
                  </div>
                  <div class="row">
                    <div class="mdl-cell mdl-cell--6-col">
                      <form action="#" id="vehicle-costs">
                        <strong>What kind of wheels do you have and what does it cost to keep 'em rolling?</strong><br>
                        <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                          <input class="mdl-textfield__input" type="text" id="sample1" />
                          <label class="mdl-textfield__label" for="sample1">Loan Amount</label>
                        </div>
                        <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                          <input class="mdl-textfield__input" type="text" id="sample1" />
                          <label class="mdl-textfield__label" for="sample1">Term of Loan in Years</label>
                        </div>
                        <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                          <input class="mdl-textfield__input" type="text" id="sample1" />
                          <label class="mdl-textfield__label" for="sample1">Annual Interest Rate</label>
                        </div>
                        <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                          <input class="mdl-textfield__input" type="text" id="sample1" />
                          <label class="mdl-textfield__label" for="sample1">Payments per Year</label>
                        </div>
                        <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                          <input class="mdl-textfield__input" type="text" id="sample1" />
                          <label class="mdl-textfield__label" for="sample1">Insurance Payment</label>
                        </div>
                        <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                          <input class="mdl-textfield__input" type="text" id="sample1" />
                          <label class="mdl-textfield__label" for="sample1">Miles per Gallon</label>
                        </div>
                      </form>
                    </div>
                    <div class="mdl-cell mdl-cell--6-col"></div>
                  </div>
                  <div class="row">
                    <div class="mdl-cell mdl-cell--6-col">
                      <form action="#" id="nitty-gritty">
                        <strong>Now it's time for the nitty gritty. Count up all those $ and ¢.</strong><br>
                        <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                          <input class="mdl-textfield__input" type="text" id="sample1" />
                          <label class="mdl-textfield__label" for="sample1">Delivery Fee</label>
                        </div>
                        <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                          <input class="mdl-textfield__input" type="text" id="sample1" />
                          <label class="mdl-textfield__label" for="sample1">Parking Fee</label>
                        </div>
                        <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                          <input class="mdl-textfield__input" type="text" id="sample1" />
                          <label class="mdl-textfield__label" for="sample1">Goods Sold</label>
                        </div>
                        <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                          <input class="mdl-textfield__input" type="text" id="sample1" />
                          <label class="mdl-textfield__label" for="sample1">Profit Margin</label>
                        </div>
                        <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                          <input class="mdl-textfield__input" type="text" id="sample1" />
                          <label class="mdl-textfield__label" for="sample1">Other Input</label>
                        </div>
                      </form> 
                    </div>
                    <div class="mdl-cell mdl-cell--6-col"></div>
                  </div>
                  <div class="row">
                    <div class="mdl-cell mdl-cell--6-col"></div>
                    <div class="mdl-cell mdl-cell--6-col"></div>
                  </div>
              </div>
            </div>
            <footer class="demo-footer mdl-mini-footer">
              <div class="mdl-mini-footer--left-section">
                <ul class="mdl-mini-footer--link-list">
                  <li><a href="https://www.provender.com/">Provender</a></li>
                  <li><a href="http://blog.provender.com/">Blog</a></li>
                </ul>
              </div>
            </footer>
          </main>
        </div>

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.js"></script>
        <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.11.2.min.js"><\/script>')</script>
        <script src="https://storage.googleapis.com/code.getmdl.io/1.0.4/material.min.js"></script>
        <script src="js/main.js"></script>
    </body>
</html>
